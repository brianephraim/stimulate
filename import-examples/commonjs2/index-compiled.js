(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("stimulate",[],e):"object"==typeof exports?exports.stimulate=e():t.stimulate=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(8)},,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.caf=e.raf=e.sharedTiming=e.stimulate=void 0;var i=n(9),s=r(i),a=n(10);n(12),e.stimulate=s["default"],e.sharedTiming=a.sharedTiming,e.raf=a.raf,e.caf=a.caf,e["default"]=s["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.StimulationAspect=e.stimulate=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(10),u=r(o),c=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?"root":arguments[1],r=arguments[2];i(this,t),this.parent=r,this.debug=n,this.options=e,e.noInit||this.init()}return a(t,[{key:"init",value:function(e){var n=this;this.aspects={},this.persistedSettings||(this.persistedSettings={}),this.inheritableDefaults={duration:1e3,delay:0,delayEveryLoop:!1,loop:!1,skipZeroFrame:!0,endless:!1,reverse:!1,usePersistedSettings:!1},this.defaultSettings={delayAddsParentDelay:!1,from:0,to:1,easing:null,aspects:this.aspects,frame:null,chainedStop:!0},this.settings=s({},this.defaultSettings,this.options),this.lookupSetting("usePersistedSettings")&&Object.assign(this.settings,this.persistedSettings),this.aspects=this.settings.aspects,this.parent?this.aspectTree=this.parent.aspectTree:this.aspectTree=this;var r=!!this.lookupSetting("reverse");this.previousReverseSetting=r;var i=this.getProgressDefault(r);this.progress?Object.assign(this.progress,i):(this.progress=i,this.progress.aspects={}),this.currentLoopCount=1,this.lastDelaySettingWhileDelaying=null,this.running=!0,this.nextRafId=null,this.timestamps={},u["default"].makeStamp("start"),this.timestamps.start=u["default"].stamps.start,this.timestamps.recentRaf=null,this.frameCount=0,this.iterateAspectNames(function(r){e?n.aspects[r].init(!0):(n.aspects[r]=new t(s({},n.settings.aspects[r]),r,n),n.progress.aspects[r]=n.aspects[r].progress)});var a=this.lookupSetting("skipZeroFrame");this.recurse(!a)}},{key:"getCumulativeDelay",value:function(){var t=this.lookupSetting("delay");return this.parent&&this.settings.delayAddsParentDelay&&(t+=this.parent.getCumulativeDelay()),t}},{key:"updateSettings",value:function(t){return this.lookupSetting("usePersistedSettings")&&Object.assign(this.persistedSettings,t),Object.assign(this.settings,t),this}},{key:"lookupSetting",value:function(t){return"undefined"!=typeof this.settings[t]&&"inherit"!==this.settings[t]?this.settings[t]:this.parent?this.parent.lookupSetting(t):this.inheritableDefaults[t]}},{key:"iterateAspectNames",value:function(t){this.settings.aspectNames=Object.keys(this.settings.aspects),this.settings.aspectNames.forEach(function(e){t(e)})}},{key:"getProgressDefault",value:function(t){return t?{ratioCompleted:1,easedRatioCompleted:1,tweened:this.settings.to,easedTweened:this.settings.to}:{ratioCompleted:0,easedRatioCompleted:0,tweened:this.settings.from,easedTweened:this.settings.from}}},{key:"getTween",value:function(t,e,n){return t+n*(e-t)}},{key:"calculateRatio",value:function(t){var e=t.start+t.delay,n=t.later-e,r=n/t.duration;return r}},{key:"recurse",value:function(t,e){var n=this;this.running&&(this.nextRafId=u["default"].raf(function(){if(n.running){n.timestamps.recentRaf=u["default"].stamps.raf,t&&(n.timestamps.start=n.timestamps.recentRaf);var r=!!n.lookupSetting("reverse"),i=r?-1:1,s=n.previousReverseSetting!==r,a=n.lookupSetting("loop");s&&(n.currentLoopCount=a+1-n.currentLoopCount),n.previousReverseSetting=r,e&&Object.assign(n.progress,n.getProgressDefault(r));var o=0;o=null!==n.lastDelaySettingWhileDelaying?n.lastDelaySettingWhileDelaying:n.getCumulativeDelay();var c=n.lookupSetting("duration"),l=n.calculateRatio({start:n.timestamps.start,later:n.timestamps.recentRaf,delay:o,duration:c}),f=n.lookupSetting("delayEveryLoop");if(l>0&&l<1&&null===n.lastDelaySettingWhileDelaying&&(n.lastDelaySettingWhileDelaying=o,(!n.lookupSetting("skipZeroFrame")&&o&&n.currentLoopCount<=1||o&&f&&n.currentLoopCount>1)&&(n.timestamps.start=n.timestamps.recentRaf-o,l=n.calculateRatio({start:n.timestamps.start,later:n.timestamps.recentRaf,delay:o,duration:c}))),s){null===n.lastDelaySettingWhileDelaying&&(n.currentLoopCount--,n.progress.ratioCompleted=-i*(1+(-i*n.progress.ratioCompleted+o/c)));var p=n.progress.ratioCompleted;r&&(p=1-n.progress.ratioCompleted);var h=p*c,g=n.timestamps.recentRaf-h;n.timestamps.start=g-o,l=n.calculateRatio({start:n.timestamps.start,later:n.timestamps.recentRaf,delay:o,duration:c})}r&&(l=1-l);var d=1,m=l<d,v=n.settings.from,y=n.settings.to;r&&(d=0,m=l>d);var b=!1,S=!1,k=!1,w=n.progress;if(w.ratioCompleted=l,m||!c||n.lookupSetting("endless"))n.settings.easing?w.easedRatioCompleted=n.settings.easing(w.ratioCompleted):w.easedRatioCompleted=w.ratioCompleted,w.tweened=n.getTween(v,y,w.ratioCompleted),w.easedTweened=n.getTween(v,y,w.easedRatioCompleted);else{var C=a===!0||a&&n.currentLoopCount<a;C&&!f?(w.ratioCompleted=-i+l,n.timestamps.start=n.timestamps.start+c,n.settings.easing?w.easedRatioCompleted=n.settings.easing(w.ratioCompleted):w.easedRatioCompleted=w.ratioCompleted,w.tweened=n.getTween(v,y,w.ratioCompleted),w.easedTweened=n.getTween(v,y,w.easedRatioCompleted),S=!0):(w.ratioCompleted=d,w.easedRatioCompleted=d,w.tweened=y,w.easedTweened=y,r&&(w.tweened=v,w.easedTweened=v)),C?(n.currentLoopCount++,k=!S,n.lastDelaySettingWhileDelaying=null):b=!0}var x=n.progress.ratioCompleted>=0;if(r&&(x=n.progress.ratioCompleted<=1),n.settings.frame&&x){var j=n.settings.frame.apply(n,[n.progress]);n.iterateFrameCbs(n.progress),n.frameCount++,Object.assign(n.progress,j)}b?(n.running=!1,n.settings.onComplete&&n.settings.onComplete.apply(n,[n.progress])):n.recurse(k,k)}}))}},{key:"onFrame",value:function(t){var e=this;return this.callbacks||(this.callbacks={}),this.callbacks.frame||(this.callbacks.frame=[]),this.callbacks.frame.push(t),function(){e.callbacks=e.callbacks.frame.filter(function(e,n){return n!==t})}}},{key:"iterateFrameCbs",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.callbacks&&this.callbacks.frame&&this.callbacks.frame.forEach(function(t){t.apply(void 0,e)})}},{key:"resetAll",value:function(){return this.stop(!0),this.init(!0),this}},{key:"stop",value:function(t){var e=this;return this.running=!1,u["default"].caf(this.nextRafId),this.settings.onStop&&(t||this.settings.onStop.apply(this,[this.progress])),this.iterateAspectNames(function(n){var r=e.aspects[n];r.settings.chainedStop&&e.aspects[n].stop(t)}),this}},{key:"resume",value:function(){var t=this;if(!this.running){u["default"].makeStamp("start");var e=this.lookupSetting("duration"),n=this.lookupSetting("reverse"),r=this.progress.ratioCompleted*e;n&&(r=(1-this.progress.ratioCompleted)*e),this.lastDelaySettingWhileDelaying&&(r+=this.lastDelaySettingWhileDelaying),this.timestamps.start=u["default"].stamps.start-r,this.timestamps.recentRaf=null,this.running=!0,this.iterateAspectNames(function(e){t.aspects[e].resume()}),this.recurse()}return this}},{key:"birthAspect",value:function(e,n){return this.aspects[e]&&this.aspects[e].stop(),this.aspects[e]=new t(s({},n),e,this),this.aspects[e]}},{key:"progressAt",value:function(t){var e=t.split("."),n=this.aspectTree;if(t)try{e.forEach(function(t,e){n=n.aspects[t]})}catch(r){throw new Error("Error: You specified an invalid aspect path for .progressAt().")}return n?n.progress:n}},{key:"aspectAt",value:function(t){var e=t.split("."),n=this.aspectTree;if(t)try{e.forEach(function(t){n=n.aspects[t]})}catch(r){throw new Error("Error: You specified an invalid aspect path for .aspectAt().")}return n}}]),t}(),l=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(Function.prototype.bind.apply(c,[null].concat(e)))};e.stimulate=l,e.StimulationAspect=c,e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(){return f.raf.apply(f,arguments)}function a(){return f.caf.apply(f,arguments)}Object.defineProperty(e,"__esModule",{value:!0}),e.caf=e.raf=e.sharedTiming=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(11),c=r(u),l=function(){function t(){i(this,t),this.running={count:0,limit:0},this.stamps={start:null,raf:null},this.rafIdRegistry={}}return o(t,[{key:"makeStamp",value:function(t,e){return this.stamps[t]&&!e||(this.stamps[t]=Date.now()),this.stamps[t]}},{key:"raf",value:function(t){var e=this;this.running.count?this.running.count++:this.running.count=1;var n=(0,c["default"])(function(){delete e.rafIdRegistry[n],e.stamps.start=null,e.running.limit||(e.running.limit=e.running.count,e.makeStamp("raf",!0),e.running.count=0),e.running.limit--,t()});return this.rafIdRegistry[n]=!0,n}},{key:"caf",value:function(t){t&&this.rafIdRegistry[t]&&((0,u.cancel)(t),this.stamps.start=null,this.running.count--,delete this.rafIdRegistry[t])}}]),t}(),f=new l;e.sharedTiming=f,e.raf=s,e.caf=a,e["default"]=f},function(t,e){(function(e){"use strict";for(var n=Date.now,r="undefined"==typeof window?e:window,i=["moz","webkit"],s="AnimationFrame",a=r["request"+s],o=r["cancel"+s]||r["cancelRequest"+s],u=0;!a&&u<i.length;u++)a=r[i[u]+"Request"+s],o=r[i[u]+"Cancel"+s]||r[i[u]+"CancelRequest"+s];if(!a||!o){var c=0,l=0,f=[],p=1e3/60;a=function(t){if(0===f.length){var e=n(),r=Math.max(10,p-(e-c));c=r+e,setTimeout(function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(n){setTimeout(function(){throw n},0)}},p)}return f.push({handle:++l,callback:t,cancelled:!1}),l},o=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return a.call(r,t)},t.exports.cancel=function(){o.apply(r,arguments)}}).call(e,function(){return this}())},function(t,e,n){n(13),t.exports=n(16).Object.assign},function(t,e,n){var r=n(14);r(r.S+r.F,"Object",{assign:n(32)})},function(t,e,n){var r=n(15),i=n(16),s=n(17),a=n(27),o=n(30),u="prototype",c=function(t,e,n){var l,f,p,h,g=t&c.F,d=t&c.G,m=t&c.S,v=t&c.P,y=t&c.B,b=d?r:m?r[e]||(r[e]={}):(r[e]||{})[u],S=d?i:i[e]||(i[e]={}),k=S[u]||(S[u]={});d&&(n=e);for(l in n)f=!g&&b&&void 0!==b[l],p=(f?b:n)[l],h=y&&f?o(p,r):v&&"function"==typeof p?o(Function.call,p):p,b&&a(b,l,p,t&c.U),S[l]!=p&&s(S,l,h),v&&k[l]!=p&&(k[l]=p)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(18),i=n(26);t.exports=n(22)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(19),i=n(21),s=n(25),a=Object.defineProperty;e.f=n(22)?Object.defineProperty:function(t,e,n){if(r(t),e=s(e,!0),r(n),i)try{return a(t,e,n)}catch(o){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(20);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(22)&&!n(23)(function(){return 7!=Object.defineProperty(n(24)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(20),i=n(15).document,s=r(i)&&r(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},function(t,e,n){var r=n(20);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(15),i=n(17),s=n(28),a=n(29)("src"),o="toString",u=Function[o],c=(""+u).split(o);n(16).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,o){var u="function"==typeof n;u&&(s(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(s(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:o?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,o,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(31);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=n(33),i=n(46),s=n(47),a=n(48),o=n(36),u=Object.assign;t.exports=!u||n(23)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=i.f,f=s.f;u>c;)for(var p,h=o(arguments[c++]),g=l?r(h).concat(l(h)):r(h),d=g.length,m=0;d>m;)f.call(h,p=g[m++])&&(n[p]=h[p]);return n}:u},function(t,e,n){var r=n(34),i=n(45);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(28),i=n(35),s=n(39)(!1),a=n(43)("IE_PROTO");t.exports=function(t,e){var n,o=i(t),u=0,c=[];for(n in o)n!=a&&r(o,n)&&c.push(n);for(;e.length>u;)r(o,n=e[u++])&&(~s(c,n)||c.push(n));return c}},function(t,e,n){var r=n(36),i=n(38);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(37);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(35),i=n(40),s=n(42);t.exports=function(t){return function(e,n,a){var o,u=r(e),c=i(u.length),l=s(a,c);if(t&&n!=n){for(;c>l;)if(o=u[l++],o!=o)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(41),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(41),i=Math.max,s=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):s(t,e)}},function(t,e,n){var r=n(44)("keys"),i=n(29);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(15),i="__core-js_shared__",s=r[i]||(r[i]={});t.exports=function(t){return s[t]||(s[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(38);t.exports=function(t){return Object(r(t))}}])});

},{}],2:[function(require,module,exports){
var stimulate = require('../../dist/stimulate.min').stimulate;
stimulate({
	duration: 1000,
	frame: function(){
		console.log(this.progress.ratioCompleted)
	}
});
},{"../../dist/stimulate.min":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkaXN0L3N0aW11bGF0ZS5taW4uanMiLCJpbXBvcnQtZXhhbXBsZXMvY29tbW9uanMyL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcInN0aW11bGF0ZVwiLFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuc3RpbXVsYXRlPWUoKTp0LnN0aW11bGF0ZT1lKCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIGk9bltyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIHRbcl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsZSksaS5sb2FkZWQ9ITAsaS5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLnA9XCJcIixlKDApfShbZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDgpfSwsLCwsLCwsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmNhZj1lLnJhZj1lLnNoYXJlZFRpbWluZz1lLnN0aW11bGF0ZT12b2lkIDA7dmFyIGk9big5KSxzPXIoaSksYT1uKDEwKTtuKDEyKSxlLnN0aW11bGF0ZT1zW1wiZGVmYXVsdFwiXSxlLnNoYXJlZFRpbWluZz1hLnNoYXJlZFRpbWluZyxlLnJhZj1hLnJhZixlLmNhZj1hLmNhZixlW1wiZGVmYXVsdFwiXT1zW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlN0aW11bGF0aW9uQXNwZWN0PWUuc3RpbXVsYXRlPXZvaWQgMDt2YXIgcz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksbz1uKDEwKSx1PXIobyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP1wicm9vdFwiOmFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1syXTtpKHRoaXMsdCksdGhpcy5wYXJlbnQ9cix0aGlzLmRlYnVnPW4sdGhpcy5vcHRpb25zPWUsZS5ub0luaXR8fHRoaXMuaW5pdCgpfXJldHVybiBhKHQsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0aGlzLmFzcGVjdHM9e30sdGhpcy5wZXJzaXN0ZWRTZXR0aW5nc3x8KHRoaXMucGVyc2lzdGVkU2V0dGluZ3M9e30pLHRoaXMuaW5oZXJpdGFibGVEZWZhdWx0cz17ZHVyYXRpb246MWUzLGRlbGF5OjAsZGVsYXlFdmVyeUxvb3A6ITEsbG9vcDohMSxza2lwWmVyb0ZyYW1lOiEwLGVuZGxlc3M6ITEscmV2ZXJzZTohMSx1c2VQZXJzaXN0ZWRTZXR0aW5nczohMX0sdGhpcy5kZWZhdWx0U2V0dGluZ3M9e2RlbGF5QWRkc1BhcmVudERlbGF5OiExLGZyb206MCx0bzoxLGVhc2luZzpudWxsLGFzcGVjdHM6dGhpcy5hc3BlY3RzLGZyYW1lOm51bGwsY2hhaW5lZFN0b3A6ITB9LHRoaXMuc2V0dGluZ3M9cyh7fSx0aGlzLmRlZmF1bHRTZXR0aW5ncyx0aGlzLm9wdGlvbnMpLHRoaXMubG9va3VwU2V0dGluZyhcInVzZVBlcnNpc3RlZFNldHRpbmdzXCIpJiZPYmplY3QuYXNzaWduKHRoaXMuc2V0dGluZ3MsdGhpcy5wZXJzaXN0ZWRTZXR0aW5ncyksdGhpcy5hc3BlY3RzPXRoaXMuc2V0dGluZ3MuYXNwZWN0cyx0aGlzLnBhcmVudD90aGlzLmFzcGVjdFRyZWU9dGhpcy5wYXJlbnQuYXNwZWN0VHJlZTp0aGlzLmFzcGVjdFRyZWU9dGhpczt2YXIgcj0hIXRoaXMubG9va3VwU2V0dGluZyhcInJldmVyc2VcIik7dGhpcy5wcmV2aW91c1JldmVyc2VTZXR0aW5nPXI7dmFyIGk9dGhpcy5nZXRQcm9ncmVzc0RlZmF1bHQocik7dGhpcy5wcm9ncmVzcz9PYmplY3QuYXNzaWduKHRoaXMucHJvZ3Jlc3MsaSk6KHRoaXMucHJvZ3Jlc3M9aSx0aGlzLnByb2dyZXNzLmFzcGVjdHM9e30pLHRoaXMuY3VycmVudExvb3BDb3VudD0xLHRoaXMubGFzdERlbGF5U2V0dGluZ1doaWxlRGVsYXlpbmc9bnVsbCx0aGlzLnJ1bm5pbmc9ITAsdGhpcy5uZXh0UmFmSWQ9bnVsbCx0aGlzLnRpbWVzdGFtcHM9e30sdVtcImRlZmF1bHRcIl0ubWFrZVN0YW1wKFwic3RhcnRcIiksdGhpcy50aW1lc3RhbXBzLnN0YXJ0PXVbXCJkZWZhdWx0XCJdLnN0YW1wcy5zdGFydCx0aGlzLnRpbWVzdGFtcHMucmVjZW50UmFmPW51bGwsdGhpcy5mcmFtZUNvdW50PTAsdGhpcy5pdGVyYXRlQXNwZWN0TmFtZXMoZnVuY3Rpb24ocil7ZT9uLmFzcGVjdHNbcl0uaW5pdCghMCk6KG4uYXNwZWN0c1tyXT1uZXcgdChzKHt9LG4uc2V0dGluZ3MuYXNwZWN0c1tyXSkscixuKSxuLnByb2dyZXNzLmFzcGVjdHNbcl09bi5hc3BlY3RzW3JdLnByb2dyZXNzKX0pO3ZhciBhPXRoaXMubG9va3VwU2V0dGluZyhcInNraXBaZXJvRnJhbWVcIik7dGhpcy5yZWN1cnNlKCFhKX19LHtrZXk6XCJnZXRDdW11bGF0aXZlRGVsYXlcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubG9va3VwU2V0dGluZyhcImRlbGF5XCIpO3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5zZXR0aW5ncy5kZWxheUFkZHNQYXJlbnREZWxheSYmKHQrPXRoaXMucGFyZW50LmdldEN1bXVsYXRpdmVEZWxheSgpKSx0fX0se2tleTpcInVwZGF0ZVNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG9va3VwU2V0dGluZyhcInVzZVBlcnNpc3RlZFNldHRpbmdzXCIpJiZPYmplY3QuYXNzaWduKHRoaXMucGVyc2lzdGVkU2V0dGluZ3MsdCksT2JqZWN0LmFzc2lnbih0aGlzLnNldHRpbmdzLHQpLHRoaXN9fSx7a2V5OlwibG9va3VwU2V0dGluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLnNldHRpbmdzW3RdJiZcImluaGVyaXRcIiE9PXRoaXMuc2V0dGluZ3NbdF0/dGhpcy5zZXR0aW5nc1t0XTp0aGlzLnBhcmVudD90aGlzLnBhcmVudC5sb29rdXBTZXR0aW5nKHQpOnRoaXMuaW5oZXJpdGFibGVEZWZhdWx0c1t0XX19LHtrZXk6XCJpdGVyYXRlQXNwZWN0TmFtZXNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnNldHRpbmdzLmFzcGVjdE5hbWVzPU9iamVjdC5rZXlzKHRoaXMuc2V0dGluZ3MuYXNwZWN0cyksdGhpcy5zZXR0aW5ncy5hc3BlY3ROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QoZSl9KX19LHtrZXk6XCJnZXRQcm9ncmVzc0RlZmF1bHRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD97cmF0aW9Db21wbGV0ZWQ6MSxlYXNlZFJhdGlvQ29tcGxldGVkOjEsdHdlZW5lZDp0aGlzLnNldHRpbmdzLnRvLGVhc2VkVHdlZW5lZDp0aGlzLnNldHRpbmdzLnRvfTp7cmF0aW9Db21wbGV0ZWQ6MCxlYXNlZFJhdGlvQ29tcGxldGVkOjAsdHdlZW5lZDp0aGlzLnNldHRpbmdzLmZyb20sZWFzZWRUd2VlbmVkOnRoaXMuc2V0dGluZ3MuZnJvbX19fSx7a2V5OlwiZ2V0VHdlZW5cIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQrbiooZS10KX19LHtrZXk6XCJjYWxjdWxhdGVSYXRpb1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc3RhcnQrdC5kZWxheSxuPXQubGF0ZXItZSxyPW4vdC5kdXJhdGlvbjtyZXR1cm4gcn19LHtrZXk6XCJyZWN1cnNlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMucnVubmluZyYmKHRoaXMubmV4dFJhZklkPXVbXCJkZWZhdWx0XCJdLnJhZihmdW5jdGlvbigpe2lmKG4ucnVubmluZyl7bi50aW1lc3RhbXBzLnJlY2VudFJhZj11W1wiZGVmYXVsdFwiXS5zdGFtcHMucmFmLHQmJihuLnRpbWVzdGFtcHMuc3RhcnQ9bi50aW1lc3RhbXBzLnJlY2VudFJhZik7dmFyIHI9ISFuLmxvb2t1cFNldHRpbmcoXCJyZXZlcnNlXCIpLGk9cj8tMToxLHM9bi5wcmV2aW91c1JldmVyc2VTZXR0aW5nIT09cixhPW4ubG9va3VwU2V0dGluZyhcImxvb3BcIik7cyYmKG4uY3VycmVudExvb3BDb3VudD1hKzEtbi5jdXJyZW50TG9vcENvdW50KSxuLnByZXZpb3VzUmV2ZXJzZVNldHRpbmc9cixlJiZPYmplY3QuYXNzaWduKG4ucHJvZ3Jlc3Msbi5nZXRQcm9ncmVzc0RlZmF1bHQocikpO3ZhciBvPTA7bz1udWxsIT09bi5sYXN0RGVsYXlTZXR0aW5nV2hpbGVEZWxheWluZz9uLmxhc3REZWxheVNldHRpbmdXaGlsZURlbGF5aW5nOm4uZ2V0Q3VtdWxhdGl2ZURlbGF5KCk7dmFyIGM9bi5sb29rdXBTZXR0aW5nKFwiZHVyYXRpb25cIiksbD1uLmNhbGN1bGF0ZVJhdGlvKHtzdGFydDpuLnRpbWVzdGFtcHMuc3RhcnQsbGF0ZXI6bi50aW1lc3RhbXBzLnJlY2VudFJhZixkZWxheTpvLGR1cmF0aW9uOmN9KSxmPW4ubG9va3VwU2V0dGluZyhcImRlbGF5RXZlcnlMb29wXCIpO2lmKGw+MCYmbDwxJiZudWxsPT09bi5sYXN0RGVsYXlTZXR0aW5nV2hpbGVEZWxheWluZyYmKG4ubGFzdERlbGF5U2V0dGluZ1doaWxlRGVsYXlpbmc9bywoIW4ubG9va3VwU2V0dGluZyhcInNraXBaZXJvRnJhbWVcIikmJm8mJm4uY3VycmVudExvb3BDb3VudDw9MXx8byYmZiYmbi5jdXJyZW50TG9vcENvdW50PjEpJiYobi50aW1lc3RhbXBzLnN0YXJ0PW4udGltZXN0YW1wcy5yZWNlbnRSYWYtbyxsPW4uY2FsY3VsYXRlUmF0aW8oe3N0YXJ0Om4udGltZXN0YW1wcy5zdGFydCxsYXRlcjpuLnRpbWVzdGFtcHMucmVjZW50UmFmLGRlbGF5Om8sZHVyYXRpb246Y30pKSkscyl7bnVsbD09PW4ubGFzdERlbGF5U2V0dGluZ1doaWxlRGVsYXlpbmcmJihuLmN1cnJlbnRMb29wQ291bnQtLSxuLnByb2dyZXNzLnJhdGlvQ29tcGxldGVkPS1pKigxKygtaSpuLnByb2dyZXNzLnJhdGlvQ29tcGxldGVkK28vYykpKTt2YXIgcD1uLnByb2dyZXNzLnJhdGlvQ29tcGxldGVkO3ImJihwPTEtbi5wcm9ncmVzcy5yYXRpb0NvbXBsZXRlZCk7dmFyIGg9cCpjLGc9bi50aW1lc3RhbXBzLnJlY2VudFJhZi1oO24udGltZXN0YW1wcy5zdGFydD1nLW8sbD1uLmNhbGN1bGF0ZVJhdGlvKHtzdGFydDpuLnRpbWVzdGFtcHMuc3RhcnQsbGF0ZXI6bi50aW1lc3RhbXBzLnJlY2VudFJhZixkZWxheTpvLGR1cmF0aW9uOmN9KX1yJiYobD0xLWwpO3ZhciBkPTEsbT1sPGQsdj1uLnNldHRpbmdzLmZyb20seT1uLnNldHRpbmdzLnRvO3ImJihkPTAsbT1sPmQpO3ZhciBiPSExLFM9ITEsaz0hMSx3PW4ucHJvZ3Jlc3M7aWYody5yYXRpb0NvbXBsZXRlZD1sLG18fCFjfHxuLmxvb2t1cFNldHRpbmcoXCJlbmRsZXNzXCIpKW4uc2V0dGluZ3MuZWFzaW5nP3cuZWFzZWRSYXRpb0NvbXBsZXRlZD1uLnNldHRpbmdzLmVhc2luZyh3LnJhdGlvQ29tcGxldGVkKTp3LmVhc2VkUmF0aW9Db21wbGV0ZWQ9dy5yYXRpb0NvbXBsZXRlZCx3LnR3ZWVuZWQ9bi5nZXRUd2Vlbih2LHksdy5yYXRpb0NvbXBsZXRlZCksdy5lYXNlZFR3ZWVuZWQ9bi5nZXRUd2Vlbih2LHksdy5lYXNlZFJhdGlvQ29tcGxldGVkKTtlbHNle3ZhciBDPWE9PT0hMHx8YSYmbi5jdXJyZW50TG9vcENvdW50PGE7QyYmIWY/KHcucmF0aW9Db21wbGV0ZWQ9LWkrbCxuLnRpbWVzdGFtcHMuc3RhcnQ9bi50aW1lc3RhbXBzLnN0YXJ0K2Msbi5zZXR0aW5ncy5lYXNpbmc/dy5lYXNlZFJhdGlvQ29tcGxldGVkPW4uc2V0dGluZ3MuZWFzaW5nKHcucmF0aW9Db21wbGV0ZWQpOncuZWFzZWRSYXRpb0NvbXBsZXRlZD13LnJhdGlvQ29tcGxldGVkLHcudHdlZW5lZD1uLmdldFR3ZWVuKHYseSx3LnJhdGlvQ29tcGxldGVkKSx3LmVhc2VkVHdlZW5lZD1uLmdldFR3ZWVuKHYseSx3LmVhc2VkUmF0aW9Db21wbGV0ZWQpLFM9ITApOih3LnJhdGlvQ29tcGxldGVkPWQsdy5lYXNlZFJhdGlvQ29tcGxldGVkPWQsdy50d2VlbmVkPXksdy5lYXNlZFR3ZWVuZWQ9eSxyJiYody50d2VlbmVkPXYsdy5lYXNlZFR3ZWVuZWQ9dikpLEM/KG4uY3VycmVudExvb3BDb3VudCsrLGs9IVMsbi5sYXN0RGVsYXlTZXR0aW5nV2hpbGVEZWxheWluZz1udWxsKTpiPSEwfXZhciB4PW4ucHJvZ3Jlc3MucmF0aW9Db21wbGV0ZWQ+PTA7aWYociYmKHg9bi5wcm9ncmVzcy5yYXRpb0NvbXBsZXRlZDw9MSksbi5zZXR0aW5ncy5mcmFtZSYmeCl7dmFyIGo9bi5zZXR0aW5ncy5mcmFtZS5hcHBseShuLFtuLnByb2dyZXNzXSk7bi5pdGVyYXRlRnJhbWVDYnMobi5wcm9ncmVzcyksbi5mcmFtZUNvdW50KyssT2JqZWN0LmFzc2lnbihuLnByb2dyZXNzLGopfWI/KG4ucnVubmluZz0hMSxuLnNldHRpbmdzLm9uQ29tcGxldGUmJm4uc2V0dGluZ3Mub25Db21wbGV0ZS5hcHBseShuLFtuLnByb2dyZXNzXSkpOm4ucmVjdXJzZShrLGspfX0pKX19LHtrZXk6XCJvbkZyYW1lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5jYWxsYmFja3N8fCh0aGlzLmNhbGxiYWNrcz17fSksdGhpcy5jYWxsYmFja3MuZnJhbWV8fCh0aGlzLmNhbGxiYWNrcy5mcmFtZT1bXSksdGhpcy5jYWxsYmFja3MuZnJhbWUucHVzaCh0KSxmdW5jdGlvbigpe2UuY2FsbGJhY2tzPWUuY2FsbGJhY2tzLmZyYW1lLmZpbHRlcihmdW5jdGlvbihlLG4pe3JldHVybiBuIT09dH0pfX19LHtrZXk6XCJpdGVyYXRlRnJhbWVDYnNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07dGhpcy5jYWxsYmFja3MmJnRoaXMuY2FsbGJhY2tzLmZyYW1lJiZ0aGlzLmNhbGxiYWNrcy5mcmFtZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuYXBwbHkodm9pZCAwLGUpfSl9fSx7a2V5OlwicmVzZXRBbGxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0b3AoITApLHRoaXMuaW5pdCghMCksdGhpc319LHtrZXk6XCJzdG9wXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5ydW5uaW5nPSExLHVbXCJkZWZhdWx0XCJdLmNhZih0aGlzLm5leHRSYWZJZCksdGhpcy5zZXR0aW5ncy5vblN0b3AmJih0fHx0aGlzLnNldHRpbmdzLm9uU3RvcC5hcHBseSh0aGlzLFt0aGlzLnByb2dyZXNzXSkpLHRoaXMuaXRlcmF0ZUFzcGVjdE5hbWVzKGZ1bmN0aW9uKG4pe3ZhciByPWUuYXNwZWN0c1tuXTtyLnNldHRpbmdzLmNoYWluZWRTdG9wJiZlLmFzcGVjdHNbbl0uc3RvcCh0KX0pLHRoaXN9fSx7a2V5OlwicmVzdW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKCF0aGlzLnJ1bm5pbmcpe3VbXCJkZWZhdWx0XCJdLm1ha2VTdGFtcChcInN0YXJ0XCIpO3ZhciBlPXRoaXMubG9va3VwU2V0dGluZyhcImR1cmF0aW9uXCIpLG49dGhpcy5sb29rdXBTZXR0aW5nKFwicmV2ZXJzZVwiKSxyPXRoaXMucHJvZ3Jlc3MucmF0aW9Db21wbGV0ZWQqZTtuJiYocj0oMS10aGlzLnByb2dyZXNzLnJhdGlvQ29tcGxldGVkKSplKSx0aGlzLmxhc3REZWxheVNldHRpbmdXaGlsZURlbGF5aW5nJiYocis9dGhpcy5sYXN0RGVsYXlTZXR0aW5nV2hpbGVEZWxheWluZyksdGhpcy50aW1lc3RhbXBzLnN0YXJ0PXVbXCJkZWZhdWx0XCJdLnN0YW1wcy5zdGFydC1yLHRoaXMudGltZXN0YW1wcy5yZWNlbnRSYWY9bnVsbCx0aGlzLnJ1bm5pbmc9ITAsdGhpcy5pdGVyYXRlQXNwZWN0TmFtZXMoZnVuY3Rpb24oZSl7dC5hc3BlY3RzW2VdLnJlc3VtZSgpfSksdGhpcy5yZWN1cnNlKCl9cmV0dXJuIHRoaXN9fSx7a2V5OlwiYmlydGhBc3BlY3RcIix2YWx1ZTpmdW5jdGlvbihlLG4pe3JldHVybiB0aGlzLmFzcGVjdHNbZV0mJnRoaXMuYXNwZWN0c1tlXS5zdG9wKCksdGhpcy5hc3BlY3RzW2VdPW5ldyB0KHMoe30sbiksZSx0aGlzKSx0aGlzLmFzcGVjdHNbZV19fSx7a2V5OlwicHJvZ3Jlc3NBdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoXCIuXCIpLG49dGhpcy5hc3BlY3RUcmVlO2lmKHQpdHJ5e2UuZm9yRWFjaChmdW5jdGlvbih0LGUpe249bi5hc3BlY3RzW3RdfSl9Y2F0Y2gocil7dGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IFlvdSBzcGVjaWZpZWQgYW4gaW52YWxpZCBhc3BlY3QgcGF0aCBmb3IgLnByb2dyZXNzQXQoKS5cIil9cmV0dXJuIG4/bi5wcm9ncmVzczpufX0se2tleTpcImFzcGVjdEF0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChcIi5cIiksbj10aGlzLmFzcGVjdFRyZWU7aWYodCl0cnl7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe249bi5hc3BlY3RzW3RdfSl9Y2F0Y2gocil7dGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IFlvdSBzcGVjaWZpZWQgYW4gaW52YWxpZCBhc3BlY3QgcGF0aCBmb3IgLmFzcGVjdEF0KCkuXCIpfXJldHVybiBufX1dKSx0fSgpLGw9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO3JldHVybiBuZXcoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoYyxbbnVsbF0uY29uY2F0KGUpKSl9O2Uuc3RpbXVsYXRlPWwsZS5TdGltdWxhdGlvbkFzcGVjdD1jLGVbXCJkZWZhdWx0XCJdPWx9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcygpe3JldHVybiBmLnJhZi5hcHBseShmLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYSgpe3JldHVybiBmLmNhZi5hcHBseShmLGFyZ3VtZW50cyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5jYWY9ZS5yYWY9ZS5zaGFyZWRUaW1pbmc9dm9pZCAwO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksdT1uKDExKSxjPXIodSksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtpKHRoaXMsdCksdGhpcy5ydW5uaW5nPXtjb3VudDowLGxpbWl0OjB9LHRoaXMuc3RhbXBzPXtzdGFydDpudWxsLHJhZjpudWxsfSx0aGlzLnJhZklkUmVnaXN0cnk9e319cmV0dXJuIG8odCxbe2tleTpcIm1ha2VTdGFtcFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3RhbXBzW3RdJiYhZXx8KHRoaXMuc3RhbXBzW3RdPURhdGUubm93KCkpLHRoaXMuc3RhbXBzW3RdfX0se2tleTpcInJhZlwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5ydW5uaW5nLmNvdW50P3RoaXMucnVubmluZy5jb3VudCsrOnRoaXMucnVubmluZy5jb3VudD0xO3ZhciBuPSgwLGNbXCJkZWZhdWx0XCJdKShmdW5jdGlvbigpe2RlbGV0ZSBlLnJhZklkUmVnaXN0cnlbbl0sZS5zdGFtcHMuc3RhcnQ9bnVsbCxlLnJ1bm5pbmcubGltaXR8fChlLnJ1bm5pbmcubGltaXQ9ZS5ydW5uaW5nLmNvdW50LGUubWFrZVN0YW1wKFwicmFmXCIsITApLGUucnVubmluZy5jb3VudD0wKSxlLnJ1bm5pbmcubGltaXQtLSx0KCl9KTtyZXR1cm4gdGhpcy5yYWZJZFJlZ2lzdHJ5W25dPSEwLG59fSx7a2V5OlwiY2FmXCIsdmFsdWU6ZnVuY3Rpb24odCl7dCYmdGhpcy5yYWZJZFJlZ2lzdHJ5W3RdJiYoKDAsdS5jYW5jZWwpKHQpLHRoaXMuc3RhbXBzLnN0YXJ0PW51bGwsdGhpcy5ydW5uaW5nLmNvdW50LS0sZGVsZXRlIHRoaXMucmFmSWRSZWdpc3RyeVt0XSl9fV0pLHR9KCksZj1uZXcgbDtlLnNoYXJlZFRpbWluZz1mLGUucmFmPXMsZS5jYWY9YSxlW1wiZGVmYXVsdFwiXT1mfSxmdW5jdGlvbih0LGUpeyhmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmb3IodmFyIG49RGF0ZS5ub3cscj1cInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P2U6d2luZG93LGk9W1wibW96XCIsXCJ3ZWJraXRcIl0scz1cIkFuaW1hdGlvbkZyYW1lXCIsYT1yW1wicmVxdWVzdFwiK3NdLG89cltcImNhbmNlbFwiK3NdfHxyW1wiY2FuY2VsUmVxdWVzdFwiK3NdLHU9MDshYSYmdTxpLmxlbmd0aDt1KyspYT1yW2lbdV0rXCJSZXF1ZXN0XCIrc10sbz1yW2lbdV0rXCJDYW5jZWxcIitzXXx8cltpW3VdK1wiQ2FuY2VsUmVxdWVzdFwiK3NdO2lmKCFhfHwhbyl7dmFyIGM9MCxsPTAsZj1bXSxwPTFlMy82MDthPWZ1bmN0aW9uKHQpe2lmKDA9PT1mLmxlbmd0aCl7dmFyIGU9bigpLHI9TWF0aC5tYXgoMTAscC0oZS1jKSk7Yz1yK2Usc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0PWYuc2xpY2UoMCk7Zi5sZW5ndGg9MDtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZighdFtlXS5jYW5jZWxsZWQpdHJ5e3RbZV0uY2FsbGJhY2soYyl9Y2F0Y2gobil7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IG59LDApfX0scCl9cmV0dXJuIGYucHVzaCh7aGFuZGxlOisrbCxjYWxsYmFjazp0LGNhbmNlbGxlZDohMX0pLGx9LG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxmLmxlbmd0aDtlKyspZltlXS5oYW5kbGU9PT10JiYoZltlXS5jYW5jZWxsZWQ9ITApfX10LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGEuY2FsbChyLHQpfSx0LmV4cG9ydHMuY2FuY2VsPWZ1bmN0aW9uKCl7by5hcHBseShyLGFyZ3VtZW50cyl9fSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUsbil7bigxMyksdC5leHBvcnRzPW4oMTYpLk9iamVjdC5hc3NpZ259LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE0KTtyKHIuUytyLkYsXCJPYmplY3RcIix7YXNzaWduOm4oMzIpfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE1KSxpPW4oMTYpLHM9bigxNyksYT1uKDI3KSxvPW4oMzApLHU9XCJwcm90b3R5cGVcIixjPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbCxmLHAsaCxnPXQmYy5GLGQ9dCZjLkcsbT10JmMuUyx2PXQmYy5QLHk9dCZjLkIsYj1kP3I6bT9yW2VdfHwocltlXT17fSk6KHJbZV18fHt9KVt1XSxTPWQ/aTppW2VdfHwoaVtlXT17fSksaz1TW3VdfHwoU1t1XT17fSk7ZCYmKG49ZSk7Zm9yKGwgaW4gbilmPSFnJiZiJiZ2b2lkIDAhPT1iW2xdLHA9KGY/YjpuKVtsXSxoPXkmJmY/byhwLHIpOnYmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHA/byhGdW5jdGlvbi5jYWxsLHApOnAsYiYmYShiLGwscCx0JmMuVSksU1tsXSE9cCYmcyhTLGwsaCksdiYma1tsXSE9cCYmKGtbbF09cCl9O3IuY29yZT1pLGMuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsYy5VPTY0LGMuUj0xMjgsdC5leHBvcnRzPWN9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1wibnVtYmVyXCI9PXR5cGVvZiBfX2cmJihfX2c9bil9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOlwiMi40LjBcIn07XCJudW1iZXJcIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTgpLGk9bigyNik7dC5leHBvcnRzPW4oMjIpP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5mKHQsZSxpKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTkpLGk9bigyMSkscz1uKDI1KSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtlLmY9bigyMik/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLGU9cyhlLCEwKSxyKG4pLGkpdHJ5e3JldHVybiBhKHQsZSxuKX1jYXRjaChvKXt9aWYoXCJnZXRcImluIG58fFwic2V0XCJpbiBuKXRocm93IFR5cGVFcnJvcihcIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIVwiKTtyZXR1cm5cInZhbHVlXCJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjApO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYW4gb2JqZWN0IVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P251bGwhPT10OlwiZnVuY3Rpb25cIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDIyKSYmIW4oMjMpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuKDI0KShcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDIzKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiEhdCgpfWNhdGNoKGUpe3JldHVybiEwfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIwKSxpPW4oMTUpLmRvY3VtZW50LHM9cihpKSYmcihpLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcz9pLmNyZWF0ZUVsZW1lbnQodCk6e319fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXIodCkpcmV0dXJuIHQ7dmFyIG4saTtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnZhbHVlT2YpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7aWYoIWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTt0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE1KSxpPW4oMTcpLHM9bigyOCksYT1uKDI5KShcInNyY1wiKSxvPVwidG9TdHJpbmdcIix1PUZ1bmN0aW9uW29dLGM9KFwiXCIrdSkuc3BsaXQobyk7bigxNikuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gdS5jYWxsKHQpfSwodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLG8pe3ZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIG47dSYmKHMobixcIm5hbWVcIil8fGkobixcIm5hbWVcIixlKSksdFtlXSE9PW4mJih1JiYocyhuLGEpfHxpKG4sYSx0W2VdP1wiXCIrdFtlXTpjLmpvaW4oU3RyaW5nKGUpKSkpLHQ9PT1yP3RbZV09bjpvP3RbZV0/dFtlXT1uOmkodCxlLG4pOihkZWxldGUgdFtlXSxpKHQsZSxuKSkpfSkoRnVuY3Rpb24ucHJvdG90eXBlLG8sZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzJiZ0aGlzW2FdfHx1LmNhbGwodGhpcyl9KX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jYWxsKHQsZSl9fSxmdW5jdGlvbih0LGUpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIlN5bWJvbChcIi5jb25jYXQodm9pZCAwPT09dD9cIlwiOnQsXCIpX1wiLCgrK24rcikudG9TdHJpbmcoMzYpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdC5jYWxsKGUsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gdC5jYWxsKGUsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsaSl7cmV0dXJuIHQuY2FsbChlLG4scixpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgZnVuY3Rpb24hXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzMpLGk9big0Nikscz1uKDQ3KSxhPW4oNDgpLG89bigzNiksdT1PYmplY3QuYXNzaWduO3QuZXhwb3J0cz0hdXx8bigyMykoZnVuY3Rpb24oKXt2YXIgdD17fSxlPXt9LG49U3ltYm9sKCkscj1cImFiY2RlZmdoaWprbG1ub3BxcnN0XCI7cmV0dXJuIHRbbl09NyxyLnNwbGl0KFwiXCIpLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT10fSksNyE9dSh7fSx0KVtuXXx8T2JqZWN0LmtleXModSh7fSxlKSkuam9pbihcIlwiKSE9cn0pP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWEodCksdT1hcmd1bWVudHMubGVuZ3RoLGM9MSxsPWkuZixmPXMuZjt1PmM7KWZvcih2YXIgcCxoPW8oYXJndW1lbnRzW2MrK10pLGc9bD9yKGgpLmNvbmNhdChsKGgpKTpyKGgpLGQ9Zy5sZW5ndGgsbT0wO2Q+bTspZi5jYWxsKGgscD1nW20rK10pJiYobltwXT1oW3BdKTtyZXR1cm4gbn06dX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzQpLGk9big0NSk7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LGkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjgpLGk9bigzNSkscz1uKDM5KSghMSksYT1uKDQzKShcIklFX1BST1RPXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLG89aSh0KSx1PTAsYz1bXTtmb3IobiBpbiBvKW4hPWEmJnIobyxuKSYmYy5wdXNoKG4pO2Zvcig7ZS5sZW5ndGg+dTspcihvLG49ZVt1KytdKSYmKH5zKGMsbil8fGMucHVzaChuKSk7cmV0dXJuIGN9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzNiksaT1uKDM4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIoaSh0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzNyk7dC5leHBvcnRzPU9iamVjdChcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKHQpe3JldHVyblwiU3RyaW5nXCI9PXIodCk/dC5zcGxpdChcIlwiKTpPYmplY3QodCl9fSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbi5jYWxsKHQpLnNsaWNlKDgsLTEpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIit0KTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM1KSxpPW4oNDApLHM9big0Mik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4sYSl7dmFyIG8sdT1yKGUpLGM9aSh1Lmxlbmd0aCksbD1zKGEsYyk7aWYodCYmbiE9bil7Zm9yKDtjPmw7KWlmKG89dVtsKytdLG8hPW8pcmV0dXJuITB9ZWxzZSBmb3IoO2M+bDtsKyspaWYoKHR8fGwgaW4gdSkmJnVbbF09PT1uKXJldHVybiB0fHxsfHwwO3JldHVybiF0JiYtMX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0MSksaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9pKHIodCksOTAwNzE5OTI1NDc0MDk5MSk6MH19LGZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQ9K3QpPzA6KHQ+MD9yOm4pKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDEpLGk9TWF0aC5tYXgscz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1yKHQpLHQ8MD9pKHQrZSwwKTpzKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0NCkoXCJrZXlzXCIpLGk9bigyOSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByW3RdfHwoclt0XT1pKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE1KSxpPVwiX19jb3JlLWpzX3NoYXJlZF9fXCIscz1yW2ldfHwocltpXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBzW3RdfHwoc1t0XT17fSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZlwiLnNwbGl0KFwiLFwiKX0sZnVuY3Rpb24odCxlKXtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sZnVuY3Rpb24odCxlKXtlLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChyKHQpKX19XSl9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0aW11bGF0ZS5taW4uanMubWFwIiwidmFyIHN0aW11bGF0ZSA9IHJlcXVpcmUoJy4uLy4uL2Rpc3Qvc3RpbXVsYXRlLm1pbicpLnN0aW11bGF0ZTtcbnN0aW11bGF0ZSh7XG5cdGR1cmF0aW9uOiAxMDAwLFxuXHRmcmFtZTogZnVuY3Rpb24oKXtcblx0XHRjb25zb2xlLmxvZyh0aGlzLnByb2dyZXNzLnJhdGlvQ29tcGxldGVkKVxuXHR9XG59KTsiXX0=
