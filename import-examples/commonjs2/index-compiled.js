(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("stimulate",[],e):"object"==typeof exports?exports.stimulate=e():t.stimulate=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=16)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":n(t))?null!==t:"function"==typeof t}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){return l.raf.apply(l,arguments)}function s(){return l.caf.apply(l,arguments)}n.d(e,"a",function(){return l}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return s});var o=n(41),a=n.n(o),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(){function t(){r(this,t),this.running={count:0,limit:0},this.stamps={start:null,raf:null},this.rafIdRegistry={}}return u(t,[{key:"makeStamp",value:function(t,e){return this.stamps[t]&&!e||(this.stamps[t]=Date.now()),this.stamps[t]}},{key:"raf",value:function(t){var e=this;this.running.count?this.running.count++:this.running.count=1;var n=a()(function(){delete e.rafIdRegistry[n],e.stamps.start=null,e.running.limit||(e.running.limit=e.running.count,e.makeStamp("raf",!0),e.running.count=0),e.running.limit--,t()});return this.rafIdRegistry[n]=!0,n}},{key:"caf",value:function(t){t&&this.rafIdRegistry[t]&&(n.i(o.cancel)(t),this.stamps.start=null,this.running.count--,delete this.rafIdRegistry[t])}}]),t}(),l=new c;e.d=l},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(27),i=n(32);t.exports=n(2)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(9),i=n(6);t.exports=function(t){return r(i(t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){n(40),t.exports=n(1).Object.assign},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(5),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root",i=arguments[2];r(this,t),this.parent=i,this.debug=n,this.options=e,e.noInit||this.init()}return o(t,[{key:"init",value:function(e){var n=this;this.aspects={},this.persistedSettings||(this.persistedSettings={}),this.inheritableDefaults={duration:1e3,delay:0,delayEveryLoop:!1,loop:!1,skipZeroFrame:!0,endless:!1,reverse:!1,usePersistedSettings:!1},this.defaultSettings={delayAddsParentDelay:!1,from:0,to:1,easing:null,aspects:this.aspects,frame:null,chainedStop:!0},this.settings=s({},this.defaultSettings,this.options),this.lookupSetting("usePersistedSettings")&&Object.assign(this.settings,this.persistedSettings),this.aspects=this.settings.aspects,this.parent?this.aspectTree=this.parent.aspectTree:this.aspectTree=this;var r=!!this.lookupSetting("reverse");this.previousReverseSetting=r;var o=this.getProgressDefault(r);this.progress?Object.assign(this.progress,o):(this.progress=o,this.progress.aspects={}),this.currentLoopCount=1,this.lastDelaySettingWhileDelaying=null,this.running=!0,this.nextRafId=null,this.timestamps={},i.d.makeStamp("start"),this.timestamps.start=i.d.stamps.start,this.timestamps.recentRaf=null,this.frameCount=0,this.iterateAspectNames(function(r){e?n.aspects[r].init(!0):(n.aspects[r]=new t(s({},n.settings.aspects[r]),r,n),n.progress.aspects[r]=n.aspects[r].progress)});var a=this.lookupSetting("skipZeroFrame");this.recurse(!a)}},{key:"getCumulativeDelay",value:function(){var t=this.lookupSetting("delay");return this.parent&&this.settings.delayAddsParentDelay&&(t+=this.parent.getCumulativeDelay()),t}},{key:"updateSettings",value:function(t){return this.lookupSetting("usePersistedSettings")&&Object.assign(this.persistedSettings,t),Object.assign(this.settings,t),this}},{key:"lookupSetting",value:function(t){return void 0!==this.settings[t]&&"inherit"!==this.settings[t]?this.settings[t]:this.parent?this.parent.lookupSetting(t):this.inheritableDefaults[t]}},{key:"iterateAspectNames",value:function(t){this.settings.aspectNames=Object.keys(this.settings.aspects),this.settings.aspectNames.forEach(function(e){t(e)})}},{key:"getProgressDefault",value:function(t){return t?{ratioCompleted:1,easedRatioCompleted:1,tweened:this.settings.to,easedTweened:this.settings.to}:{ratioCompleted:0,easedRatioCompleted:0,tweened:this.settings.from,easedTweened:this.settings.from}}},{key:"getTween",value:function(t,e,n){return t+n*(e-t)}},{key:"calculateRatio",value:function(t){var e=t.start+t.delay;return(t.later-e)/t.duration}},{key:"recurse",value:function(t,e){var n=this;this.running&&(this.nextRafId=i.d.raf(function(){if(n.running){n.timestamps.recentRaf=i.d.stamps.raf,t&&(n.timestamps.start=n.timestamps.recentRaf);var r=!!n.lookupSetting("reverse"),s=r?-1:1,o=n.previousReverseSetting!==r,a=n.lookupSetting("loop");o&&(n.currentLoopCount=a+1-n.currentLoopCount),n.previousReverseSetting=r,e&&Object.assign(n.progress,n.getProgressDefault(r));var u=0;u=null!==n.lastDelaySettingWhileDelaying?n.lastDelaySettingWhileDelaying:n.getCumulativeDelay();var c=n.lookupSetting("duration"),l=n.calculateRatio({start:n.timestamps.start,later:n.timestamps.recentRaf,delay:u,duration:c}),f=n.lookupSetting("delayEveryLoop");if(l>0&&l<1&&null===n.lastDelaySettingWhileDelaying&&(n.lastDelaySettingWhileDelaying=u,(!n.lookupSetting("skipZeroFrame")&&u&&n.currentLoopCount<=1||u&&f&&n.currentLoopCount>1)&&(n.timestamps.start=n.timestamps.recentRaf-u,l=n.calculateRatio({start:n.timestamps.start,later:n.timestamps.recentRaf,delay:u,duration:c}))),o){null===n.lastDelaySettingWhileDelaying&&(n.currentLoopCount--,n.progress.ratioCompleted=-s*(-s*n.progress.ratioCompleted+u/c+1));var p=n.progress.ratioCompleted;r&&(p=1-n.progress.ratioCompleted);var h=p*c,g=n.timestamps.recentRaf-h;n.timestamps.start=g-u,l=n.calculateRatio({start:n.timestamps.start,later:n.timestamps.recentRaf,delay:u,duration:c})}r&&(l=1-l);var d=1,m=l<d,y=n.settings.from,v=n.settings.to;r&&(d=0,m=l>d);var b=!1,S=!1,w=!1,k=n.progress;if(k.ratioCompleted=l,m||!c||n.lookupSetting("endless"))n.settings.easing?k.easedRatioCompleted=n.settings.easing(k.ratioCompleted):k.easedRatioCompleted=k.ratioCompleted,k.tweened=n.getTween(y,v,k.ratioCompleted),k.easedTweened=n.getTween(y,v,k.easedRatioCompleted);else{var C=!0===a||a&&n.currentLoopCount<a;C&&!f?(k.ratioCompleted=-s+l,n.timestamps.start=n.timestamps.start+c,n.settings.easing?k.easedRatioCompleted=n.settings.easing(k.ratioCompleted):k.easedRatioCompleted=k.ratioCompleted,k.tweened=n.getTween(y,v,k.ratioCompleted),k.easedTweened=n.getTween(y,v,k.easedRatioCompleted),S=!0):(k.ratioCompleted=d,k.easedRatioCompleted=d,k.tweened=v,k.easedTweened=v,r&&(k.tweened=y,k.easedTweened=y)),C?(n.currentLoopCount++,w=!S,n.lastDelaySettingWhileDelaying=null):b=!0}var x=n.progress.ratioCompleted>=0;if(r&&(x=n.progress.ratioCompleted<=1),n.settings.frame&&x){var j=n.settings.frame.apply(n,[n.progress]);n.iterateFrameCbs(n.progress),n.frameCount++,Object.assign(n.progress,j)}b?(n.running=!1,n.settings.onComplete&&n.settings.onComplete.apply(n,[n.progress])):n.recurse(w,w)}}))}},{key:"onFrame",value:function(t){var e=this;return this.callbacks||(this.callbacks={}),this.callbacks.frame||(this.callbacks.frame=[]),this.callbacks.frame.push(t),function(){e.callbacks=e.callbacks.frame.filter(function(e,n){return n!==t})}}},{key:"iterateFrameCbs",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.callbacks&&this.callbacks.frame&&this.callbacks.frame.forEach(function(t){t.apply(void 0,e)})}},{key:"resetAll",value:function(){return this.stop(!0),this.init(!0),this}},{key:"stop",value:function(t){var e=this;return this.running=!1,i.d.caf(this.nextRafId),this.settings.onStop&&(t||this.settings.onStop.apply(this,[this.progress])),this.iterateAspectNames(function(n){e.aspects[n].settings.chainedStop&&e.aspects[n].stop(t)}),this}},{key:"resume",value:function(){var t=this;if(!this.running){i.d.makeStamp("start");var e=this.lookupSetting("duration"),n=this.lookupSetting("reverse"),r=this.progress.ratioCompleted*e;n&&(r=(1-this.progress.ratioCompleted)*e),this.lastDelaySettingWhileDelaying&&(r+=this.lastDelaySettingWhileDelaying),this.timestamps.start=i.d.stamps.start-r,this.timestamps.recentRaf=null,this.running=!0,this.iterateAspectNames(function(e){t.aspects[e].resume()}),this.recurse()}return this}},{key:"birthAspect",value:function(e,n){return this.aspects[e]&&this.aspects[e].stop(),this.aspects[e]=new t(s({},n),e,this),this.aspects[e]}},{key:"progressAt",value:function(t){var e=t.split("."),n=this.aspectTree;if(t)try{e.forEach(function(t){n=n.aspects[t]})}catch(t){throw new Error("Error: You specified an invalid aspect path for .progressAt().")}return n?n.progress:n}},{key:"aspectAt",value:function(t){var e=t.split("."),n=this.aspectTree;if(t)try{e.forEach(function(t){n=n.aspects[t]})}catch(t){throw new Error("Error: You specified an invalid aspect path for .aspectAt().")}return n}}]),t}(),u=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(Function.prototype.bind.apply(a,[null].concat(e)))};e.a=u},function(t,e){var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),i=(n.n(r),n(14)),s=n(5);n.d(e,"stimulate",function(){return i.a}),n.d(e,"sharedTiming",function(){return s.a}),n.d(e,"raf",function(){return s.b}),n.d(e,"caf",function(){return s.c}),e.default=i.a},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(11),i=n(37),s=n(36);t.exports=function(t){return function(e,n,o){var a,u=r(e),c=i(u.length),l=s(o,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(17);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(4),i=n(0).document,s=r(i)&&r(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(0),i=n(1),s=n(8),o=n(33),a=n(21),u=function t(e,n,u){var c,l,f,p,h=e&t.F,g=e&t.G,d=e&t.S,m=e&t.P,y=e&t.B,v=g?r:d?r[n]||(r[n]={}):(r[n]||{}).prototype,b=g?i:i[n]||(i[n]={}),S=b.prototype||(b.prototype={});g&&(u=n);for(c in u)l=!h&&v&&void 0!==v[c],f=(l?v:u)[c],p=y&&l?a(f,r):m&&"function"==typeof f?a(Function.call,f):f,v&&o(v,c,f,e&t.U),b[c]!=f&&s(b,c,p),m&&S[c]!=f&&(S[c]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){t.exports=!n(2)&&!n(3)(function(){return 7!=Object.defineProperty(n(22)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(30),i=n(28),s=n(31),o=n(38),a=n(9),u=Object.assign;t.exports=!u||n(3)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=o(t),u=arguments.length,c=1,l=i.f,f=s.f;u>c;)for(var p,h=a(arguments[c++]),g=l?r(h).concat(l(h)):r(h),d=g.length,m=0;d>m;)f.call(h,p=g[m++])&&(n[p]=h[p]);return n}:u},function(t,e,n){var r=n(18),i=n(25),s=n(39),o=Object.defineProperty;e.f=n(2)?Object.defineProperty:function(t,e,n){if(r(t),e=s(e,!0),r(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(7),i=n(11),s=n(19)(!1),o=n(34)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=o&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~s(c,n)||c.push(n));return c}},function(t,e,n){var r=n(29),i=n(23);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(0),i=n(8),s=n(7),o=n(12)("src"),a=Function.toString,u=(""+a).split("toString");n(1).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(s(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(s(n,o)||i(n,o,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||a.call(this)})},function(t,e,n){var r=n(35)("keys"),i=n(12);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(0),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(10),i=Math.max,s=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):s(t,e)}},function(t,e,n){var r=n(10),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(6);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(24);r(r.S+r.F,"Object",{assign:n(26)})},function(t,e,n){(function(e){for(var n=Date.now,r="undefined"==typeof window?e:window,i=["moz","webkit"],s="AnimationFrame",o=r["request"+s],a=r["cancel"+s]||r["cancelRequest"+s],u=0;!o&&u<i.length;u++)o=r[i[u]+"Request"+s],a=r[i[u]+"Cancel"+s]||r[i[u]+"CancelRequest"+s];if(!o||!a){var c=0,l=0,f=[];o=function(t){if(0===f.length){var e=n(),r=Math.max(10,1e3/60-(e-c));c=r+e,setTimeout(function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(t){setTimeout(function(){throw t},0)}},1e3/60)}return f.push({handle:++l,callback:t,cancelled:!1}),l},a=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return o.call(r,t)},t.exports.cancel=function(){a.apply(r,arguments)}}).call(e,n(15))}])});
},{}],2:[function(require,module,exports){
var stimulate = require('../../dist/stimulate.min').stimulate;
stimulate({
	duration: 1000,
	frame: function(){
		console.log(this.progress.ratioCompleted)
	}
});
},{"../../dist/stimulate.min":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkaXN0L3N0aW11bGF0ZS5taW4uanMiLCJpbXBvcnQtZXhhbXBsZXMvY29tbW9uanMyL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJzdGltdWxhdGVcIixbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLnN0aW11bGF0ZT1lKCk6dC5zdGltdWxhdGU9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBpPW5bcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLGUpLGkubD0hMCxpLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUuaT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sZS5kPWZ1bmN0aW9uKHQsbixyKXtlLm8odCxuKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OnJ9KX0sZS5uPWZ1bmN0aW9uKHQpe3ZhciBuPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBlLmQobixcImFcIixuKSxufSxlLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LGUucD1cIlwiLGUoZS5zPTE2KX0oW2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1wibnVtYmVyXCI9PXR5cGVvZiBfX2cmJihfX2c9bil9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOlwiMi40LjBcIn07XCJudW1iZXJcIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigzKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiEhdCgpfWNhdGNoKHQpe3JldHVybiEwfX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH07dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOm4odCkpP251bGwhPT10OlwiZnVuY3Rpb25cIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSgpe3JldHVybiBsLnJhZi5hcHBseShsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcygpe3JldHVybiBsLmNhZi5hcHBseShsLGFyZ3VtZW50cyl9bi5kKGUsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gbH0pLG4uZChlLFwiYlwiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSxuLmQoZSxcImNcIixmdW5jdGlvbigpe3JldHVybiBzfSk7dmFyIG89big0MSksYT1uLm4obyksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cih0aGlzLHQpLHRoaXMucnVubmluZz17Y291bnQ6MCxsaW1pdDowfSx0aGlzLnN0YW1wcz17c3RhcnQ6bnVsbCxyYWY6bnVsbH0sdGhpcy5yYWZJZFJlZ2lzdHJ5PXt9fXJldHVybiB1KHQsW3trZXk6XCJtYWtlU3RhbXBcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0YW1wc1t0XSYmIWV8fCh0aGlzLnN0YW1wc1t0XT1EYXRlLm5vdygpKSx0aGlzLnN0YW1wc1t0XX19LHtrZXk6XCJyYWZcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMucnVubmluZy5jb3VudD90aGlzLnJ1bm5pbmcuY291bnQrKzp0aGlzLnJ1bm5pbmcuY291bnQ9MTt2YXIgbj1hKCkoZnVuY3Rpb24oKXtkZWxldGUgZS5yYWZJZFJlZ2lzdHJ5W25dLGUuc3RhbXBzLnN0YXJ0PW51bGwsZS5ydW5uaW5nLmxpbWl0fHwoZS5ydW5uaW5nLmxpbWl0PWUucnVubmluZy5jb3VudCxlLm1ha2VTdGFtcChcInJhZlwiLCEwKSxlLnJ1bm5pbmcuY291bnQ9MCksZS5ydW5uaW5nLmxpbWl0LS0sdCgpfSk7cmV0dXJuIHRoaXMucmFmSWRSZWdpc3RyeVtuXT0hMCxufX0se2tleTpcImNhZlwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QmJnRoaXMucmFmSWRSZWdpc3RyeVt0XSYmKG4uaShvLmNhbmNlbCkodCksdGhpcy5zdGFtcHMuc3RhcnQ9bnVsbCx0aGlzLnJ1bm5pbmcuY291bnQtLSxkZWxldGUgdGhpcy5yYWZJZFJlZ2lzdHJ5W3RdKX19XSksdH0oKSxsPW5ldyBjO2UuZD1sfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PXQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiK3QpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jYWxsKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNyksaT1uKDMyKTt0LmV4cG9ydHM9bigyKT9mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZih0LGUsaSgxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIwKTt0LmV4cG9ydHM9T2JqZWN0KFwielwiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuXCJTdHJpbmdcIj09cih0KT90LnNwbGl0KFwiXCIpOk9iamVjdCh0KX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQ9K3QpPzA6KHQ+MD9yOm4pKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOSksaT1uKDYpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcihpKHQpKX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwiU3ltYm9sKFwiLmNvbmNhdCh2b2lkIDA9PT10P1wiXCI6dCxcIilfXCIsKCsrbityKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24odCxlLG4pe24oNDApLHQuZXhwb3J0cz1uKDEpLk9iamVjdC5hc3NpZ259LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX12YXIgaT1uKDUpLHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0sbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcInJvb3RcIixpPWFyZ3VtZW50c1syXTtyKHRoaXMsdCksdGhpcy5wYXJlbnQ9aSx0aGlzLmRlYnVnPW4sdGhpcy5vcHRpb25zPWUsZS5ub0luaXR8fHRoaXMuaW5pdCgpfXJldHVybiBvKHQsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0aGlzLmFzcGVjdHM9e30sdGhpcy5wZXJzaXN0ZWRTZXR0aW5nc3x8KHRoaXMucGVyc2lzdGVkU2V0dGluZ3M9e30pLHRoaXMuaW5oZXJpdGFibGVEZWZhdWx0cz17ZHVyYXRpb246MWUzLGRlbGF5OjAsZGVsYXlFdmVyeUxvb3A6ITEsbG9vcDohMSxza2lwWmVyb0ZyYW1lOiEwLGVuZGxlc3M6ITEscmV2ZXJzZTohMSx1c2VQZXJzaXN0ZWRTZXR0aW5nczohMX0sdGhpcy5kZWZhdWx0U2V0dGluZ3M9e2RlbGF5QWRkc1BhcmVudERlbGF5OiExLGZyb206MCx0bzoxLGVhc2luZzpudWxsLGFzcGVjdHM6dGhpcy5hc3BlY3RzLGZyYW1lOm51bGwsY2hhaW5lZFN0b3A6ITB9LHRoaXMuc2V0dGluZ3M9cyh7fSx0aGlzLmRlZmF1bHRTZXR0aW5ncyx0aGlzLm9wdGlvbnMpLHRoaXMubG9va3VwU2V0dGluZyhcInVzZVBlcnNpc3RlZFNldHRpbmdzXCIpJiZPYmplY3QuYXNzaWduKHRoaXMuc2V0dGluZ3MsdGhpcy5wZXJzaXN0ZWRTZXR0aW5ncyksdGhpcy5hc3BlY3RzPXRoaXMuc2V0dGluZ3MuYXNwZWN0cyx0aGlzLnBhcmVudD90aGlzLmFzcGVjdFRyZWU9dGhpcy5wYXJlbnQuYXNwZWN0VHJlZTp0aGlzLmFzcGVjdFRyZWU9dGhpczt2YXIgcj0hIXRoaXMubG9va3VwU2V0dGluZyhcInJldmVyc2VcIik7dGhpcy5wcmV2aW91c1JldmVyc2VTZXR0aW5nPXI7dmFyIG89dGhpcy5nZXRQcm9ncmVzc0RlZmF1bHQocik7dGhpcy5wcm9ncmVzcz9PYmplY3QuYXNzaWduKHRoaXMucHJvZ3Jlc3Msbyk6KHRoaXMucHJvZ3Jlc3M9byx0aGlzLnByb2dyZXNzLmFzcGVjdHM9e30pLHRoaXMuY3VycmVudExvb3BDb3VudD0xLHRoaXMubGFzdERlbGF5U2V0dGluZ1doaWxlRGVsYXlpbmc9bnVsbCx0aGlzLnJ1bm5pbmc9ITAsdGhpcy5uZXh0UmFmSWQ9bnVsbCx0aGlzLnRpbWVzdGFtcHM9e30saS5kLm1ha2VTdGFtcChcInN0YXJ0XCIpLHRoaXMudGltZXN0YW1wcy5zdGFydD1pLmQuc3RhbXBzLnN0YXJ0LHRoaXMudGltZXN0YW1wcy5yZWNlbnRSYWY9bnVsbCx0aGlzLmZyYW1lQ291bnQ9MCx0aGlzLml0ZXJhdGVBc3BlY3ROYW1lcyhmdW5jdGlvbihyKXtlP24uYXNwZWN0c1tyXS5pbml0KCEwKToobi5hc3BlY3RzW3JdPW5ldyB0KHMoe30sbi5zZXR0aW5ncy5hc3BlY3RzW3JdKSxyLG4pLG4ucHJvZ3Jlc3MuYXNwZWN0c1tyXT1uLmFzcGVjdHNbcl0ucHJvZ3Jlc3MpfSk7dmFyIGE9dGhpcy5sb29rdXBTZXR0aW5nKFwic2tpcFplcm9GcmFtZVwiKTt0aGlzLnJlY3Vyc2UoIWEpfX0se2tleTpcImdldEN1bXVsYXRpdmVEZWxheVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sb29rdXBTZXR0aW5nKFwiZGVsYXlcIik7cmV0dXJuIHRoaXMucGFyZW50JiZ0aGlzLnNldHRpbmdzLmRlbGF5QWRkc1BhcmVudERlbGF5JiYodCs9dGhpcy5wYXJlbnQuZ2V0Q3VtdWxhdGl2ZURlbGF5KCkpLHR9fSx7a2V5OlwidXBkYXRlU2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sb29rdXBTZXR0aW5nKFwidXNlUGVyc2lzdGVkU2V0dGluZ3NcIikmJk9iamVjdC5hc3NpZ24odGhpcy5wZXJzaXN0ZWRTZXR0aW5ncyx0KSxPYmplY3QuYXNzaWduKHRoaXMuc2V0dGluZ3MsdCksdGhpc319LHtrZXk6XCJsb29rdXBTZXR0aW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuc2V0dGluZ3NbdF0mJlwiaW5oZXJpdFwiIT09dGhpcy5zZXR0aW5nc1t0XT90aGlzLnNldHRpbmdzW3RdOnRoaXMucGFyZW50P3RoaXMucGFyZW50Lmxvb2t1cFNldHRpbmcodCk6dGhpcy5pbmhlcml0YWJsZURlZmF1bHRzW3RdfX0se2tleTpcIml0ZXJhdGVBc3BlY3ROYW1lc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc2V0dGluZ3MuYXNwZWN0TmFtZXM9T2JqZWN0LmtleXModGhpcy5zZXR0aW5ncy5hc3BlY3RzKSx0aGlzLnNldHRpbmdzLmFzcGVjdE5hbWVzLmZvckVhY2goZnVuY3Rpb24oZSl7dChlKX0pfX0se2tleTpcImdldFByb2dyZXNzRGVmYXVsdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0P3tyYXRpb0NvbXBsZXRlZDoxLGVhc2VkUmF0aW9Db21wbGV0ZWQ6MSx0d2VlbmVkOnRoaXMuc2V0dGluZ3MudG8sZWFzZWRUd2VlbmVkOnRoaXMuc2V0dGluZ3MudG99OntyYXRpb0NvbXBsZXRlZDowLGVhc2VkUmF0aW9Db21wbGV0ZWQ6MCx0d2VlbmVkOnRoaXMuc2V0dGluZ3MuZnJvbSxlYXNlZFR3ZWVuZWQ6dGhpcy5zZXR0aW5ncy5mcm9tfX19LHtrZXk6XCJnZXRUd2VlblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCtuKihlLXQpfX0se2tleTpcImNhbGN1bGF0ZVJhdGlvXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zdGFydCt0LmRlbGF5O3JldHVybih0LmxhdGVyLWUpL3QuZHVyYXRpb259fSx7a2V5OlwicmVjdXJzZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLnJ1bm5pbmcmJih0aGlzLm5leHRSYWZJZD1pLmQucmFmKGZ1bmN0aW9uKCl7aWYobi5ydW5uaW5nKXtuLnRpbWVzdGFtcHMucmVjZW50UmFmPWkuZC5zdGFtcHMucmFmLHQmJihuLnRpbWVzdGFtcHMuc3RhcnQ9bi50aW1lc3RhbXBzLnJlY2VudFJhZik7dmFyIHI9ISFuLmxvb2t1cFNldHRpbmcoXCJyZXZlcnNlXCIpLHM9cj8tMToxLG89bi5wcmV2aW91c1JldmVyc2VTZXR0aW5nIT09cixhPW4ubG9va3VwU2V0dGluZyhcImxvb3BcIik7byYmKG4uY3VycmVudExvb3BDb3VudD1hKzEtbi5jdXJyZW50TG9vcENvdW50KSxuLnByZXZpb3VzUmV2ZXJzZVNldHRpbmc9cixlJiZPYmplY3QuYXNzaWduKG4ucHJvZ3Jlc3Msbi5nZXRQcm9ncmVzc0RlZmF1bHQocikpO3ZhciB1PTA7dT1udWxsIT09bi5sYXN0RGVsYXlTZXR0aW5nV2hpbGVEZWxheWluZz9uLmxhc3REZWxheVNldHRpbmdXaGlsZURlbGF5aW5nOm4uZ2V0Q3VtdWxhdGl2ZURlbGF5KCk7dmFyIGM9bi5sb29rdXBTZXR0aW5nKFwiZHVyYXRpb25cIiksbD1uLmNhbGN1bGF0ZVJhdGlvKHtzdGFydDpuLnRpbWVzdGFtcHMuc3RhcnQsbGF0ZXI6bi50aW1lc3RhbXBzLnJlY2VudFJhZixkZWxheTp1LGR1cmF0aW9uOmN9KSxmPW4ubG9va3VwU2V0dGluZyhcImRlbGF5RXZlcnlMb29wXCIpO2lmKGw+MCYmbDwxJiZudWxsPT09bi5sYXN0RGVsYXlTZXR0aW5nV2hpbGVEZWxheWluZyYmKG4ubGFzdERlbGF5U2V0dGluZ1doaWxlRGVsYXlpbmc9dSwoIW4ubG9va3VwU2V0dGluZyhcInNraXBaZXJvRnJhbWVcIikmJnUmJm4uY3VycmVudExvb3BDb3VudDw9MXx8dSYmZiYmbi5jdXJyZW50TG9vcENvdW50PjEpJiYobi50aW1lc3RhbXBzLnN0YXJ0PW4udGltZXN0YW1wcy5yZWNlbnRSYWYtdSxsPW4uY2FsY3VsYXRlUmF0aW8oe3N0YXJ0Om4udGltZXN0YW1wcy5zdGFydCxsYXRlcjpuLnRpbWVzdGFtcHMucmVjZW50UmFmLGRlbGF5OnUsZHVyYXRpb246Y30pKSksbyl7bnVsbD09PW4ubGFzdERlbGF5U2V0dGluZ1doaWxlRGVsYXlpbmcmJihuLmN1cnJlbnRMb29wQ291bnQtLSxuLnByb2dyZXNzLnJhdGlvQ29tcGxldGVkPS1zKigtcypuLnByb2dyZXNzLnJhdGlvQ29tcGxldGVkK3UvYysxKSk7dmFyIHA9bi5wcm9ncmVzcy5yYXRpb0NvbXBsZXRlZDtyJiYocD0xLW4ucHJvZ3Jlc3MucmF0aW9Db21wbGV0ZWQpO3ZhciBoPXAqYyxnPW4udGltZXN0YW1wcy5yZWNlbnRSYWYtaDtuLnRpbWVzdGFtcHMuc3RhcnQ9Zy11LGw9bi5jYWxjdWxhdGVSYXRpbyh7c3RhcnQ6bi50aW1lc3RhbXBzLnN0YXJ0LGxhdGVyOm4udGltZXN0YW1wcy5yZWNlbnRSYWYsZGVsYXk6dSxkdXJhdGlvbjpjfSl9ciYmKGw9MS1sKTt2YXIgZD0xLG09bDxkLHk9bi5zZXR0aW5ncy5mcm9tLHY9bi5zZXR0aW5ncy50bztyJiYoZD0wLG09bD5kKTt2YXIgYj0hMSxTPSExLHc9ITEsaz1uLnByb2dyZXNzO2lmKGsucmF0aW9Db21wbGV0ZWQ9bCxtfHwhY3x8bi5sb29rdXBTZXR0aW5nKFwiZW5kbGVzc1wiKSluLnNldHRpbmdzLmVhc2luZz9rLmVhc2VkUmF0aW9Db21wbGV0ZWQ9bi5zZXR0aW5ncy5lYXNpbmcoay5yYXRpb0NvbXBsZXRlZCk6ay5lYXNlZFJhdGlvQ29tcGxldGVkPWsucmF0aW9Db21wbGV0ZWQsay50d2VlbmVkPW4uZ2V0VHdlZW4oeSx2LGsucmF0aW9Db21wbGV0ZWQpLGsuZWFzZWRUd2VlbmVkPW4uZ2V0VHdlZW4oeSx2LGsuZWFzZWRSYXRpb0NvbXBsZXRlZCk7ZWxzZXt2YXIgQz0hMD09PWF8fGEmJm4uY3VycmVudExvb3BDb3VudDxhO0MmJiFmPyhrLnJhdGlvQ29tcGxldGVkPS1zK2wsbi50aW1lc3RhbXBzLnN0YXJ0PW4udGltZXN0YW1wcy5zdGFydCtjLG4uc2V0dGluZ3MuZWFzaW5nP2suZWFzZWRSYXRpb0NvbXBsZXRlZD1uLnNldHRpbmdzLmVhc2luZyhrLnJhdGlvQ29tcGxldGVkKTprLmVhc2VkUmF0aW9Db21wbGV0ZWQ9ay5yYXRpb0NvbXBsZXRlZCxrLnR3ZWVuZWQ9bi5nZXRUd2Vlbih5LHYsay5yYXRpb0NvbXBsZXRlZCksay5lYXNlZFR3ZWVuZWQ9bi5nZXRUd2Vlbih5LHYsay5lYXNlZFJhdGlvQ29tcGxldGVkKSxTPSEwKTooay5yYXRpb0NvbXBsZXRlZD1kLGsuZWFzZWRSYXRpb0NvbXBsZXRlZD1kLGsudHdlZW5lZD12LGsuZWFzZWRUd2VlbmVkPXYsciYmKGsudHdlZW5lZD15LGsuZWFzZWRUd2VlbmVkPXkpKSxDPyhuLmN1cnJlbnRMb29wQ291bnQrKyx3PSFTLG4ubGFzdERlbGF5U2V0dGluZ1doaWxlRGVsYXlpbmc9bnVsbCk6Yj0hMH12YXIgeD1uLnByb2dyZXNzLnJhdGlvQ29tcGxldGVkPj0wO2lmKHImJih4PW4ucHJvZ3Jlc3MucmF0aW9Db21wbGV0ZWQ8PTEpLG4uc2V0dGluZ3MuZnJhbWUmJngpe3ZhciBqPW4uc2V0dGluZ3MuZnJhbWUuYXBwbHkobixbbi5wcm9ncmVzc10pO24uaXRlcmF0ZUZyYW1lQ2JzKG4ucHJvZ3Jlc3MpLG4uZnJhbWVDb3VudCsrLE9iamVjdC5hc3NpZ24obi5wcm9ncmVzcyxqKX1iPyhuLnJ1bm5pbmc9ITEsbi5zZXR0aW5ncy5vbkNvbXBsZXRlJiZuLnNldHRpbmdzLm9uQ29tcGxldGUuYXBwbHkobixbbi5wcm9ncmVzc10pKTpuLnJlY3Vyc2Uodyx3KX19KSl9fSx7a2V5Olwib25GcmFtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuY2FsbGJhY2tzfHwodGhpcy5jYWxsYmFja3M9e30pLHRoaXMuY2FsbGJhY2tzLmZyYW1lfHwodGhpcy5jYWxsYmFja3MuZnJhbWU9W10pLHRoaXMuY2FsbGJhY2tzLmZyYW1lLnB1c2godCksZnVuY3Rpb24oKXtlLmNhbGxiYWNrcz1lLmNhbGxiYWNrcy5mcmFtZS5maWx0ZXIoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbiE9PXR9KX19fSx7a2V5OlwiaXRlcmF0ZUZyYW1lQ2JzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO3RoaXMuY2FsbGJhY2tzJiZ0aGlzLmNhbGxiYWNrcy5mcmFtZSYmdGhpcy5jYWxsYmFja3MuZnJhbWUuZm9yRWFjaChmdW5jdGlvbih0KXt0LmFwcGx5KHZvaWQgMCxlKX0pfX0se2tleTpcInJlc2V0QWxsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdG9wKCEwKSx0aGlzLmluaXQoITApLHRoaXN9fSx7a2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMucnVubmluZz0hMSxpLmQuY2FmKHRoaXMubmV4dFJhZklkKSx0aGlzLnNldHRpbmdzLm9uU3RvcCYmKHR8fHRoaXMuc2V0dGluZ3Mub25TdG9wLmFwcGx5KHRoaXMsW3RoaXMucHJvZ3Jlc3NdKSksdGhpcy5pdGVyYXRlQXNwZWN0TmFtZXMoZnVuY3Rpb24obil7ZS5hc3BlY3RzW25dLnNldHRpbmdzLmNoYWluZWRTdG9wJiZlLmFzcGVjdHNbbl0uc3RvcCh0KX0pLHRoaXN9fSx7a2V5OlwicmVzdW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKCF0aGlzLnJ1bm5pbmcpe2kuZC5tYWtlU3RhbXAoXCJzdGFydFwiKTt2YXIgZT10aGlzLmxvb2t1cFNldHRpbmcoXCJkdXJhdGlvblwiKSxuPXRoaXMubG9va3VwU2V0dGluZyhcInJldmVyc2VcIikscj10aGlzLnByb2dyZXNzLnJhdGlvQ29tcGxldGVkKmU7biYmKHI9KDEtdGhpcy5wcm9ncmVzcy5yYXRpb0NvbXBsZXRlZCkqZSksdGhpcy5sYXN0RGVsYXlTZXR0aW5nV2hpbGVEZWxheWluZyYmKHIrPXRoaXMubGFzdERlbGF5U2V0dGluZ1doaWxlRGVsYXlpbmcpLHRoaXMudGltZXN0YW1wcy5zdGFydD1pLmQuc3RhbXBzLnN0YXJ0LXIsdGhpcy50aW1lc3RhbXBzLnJlY2VudFJhZj1udWxsLHRoaXMucnVubmluZz0hMCx0aGlzLml0ZXJhdGVBc3BlY3ROYW1lcyhmdW5jdGlvbihlKXt0LmFzcGVjdHNbZV0ucmVzdW1lKCl9KSx0aGlzLnJlY3Vyc2UoKX1yZXR1cm4gdGhpc319LHtrZXk6XCJiaXJ0aEFzcGVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMuYXNwZWN0c1tlXSYmdGhpcy5hc3BlY3RzW2VdLnN0b3AoKSx0aGlzLmFzcGVjdHNbZV09bmV3IHQocyh7fSxuKSxlLHRoaXMpLHRoaXMuYXNwZWN0c1tlXX19LHtrZXk6XCJwcm9ncmVzc0F0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChcIi5cIiksbj10aGlzLmFzcGVjdFRyZWU7aWYodCl0cnl7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe249bi5hc3BlY3RzW3RdfSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IFlvdSBzcGVjaWZpZWQgYW4gaW52YWxpZCBhc3BlY3QgcGF0aCBmb3IgLnByb2dyZXNzQXQoKS5cIil9cmV0dXJuIG4/bi5wcm9ncmVzczpufX0se2tleTpcImFzcGVjdEF0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChcIi5cIiksbj10aGlzLmFzcGVjdFRyZWU7aWYodCl0cnl7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe249bi5hc3BlY3RzW3RdfSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IFlvdSBzcGVjaWZpZWQgYW4gaW52YWxpZCBhc3BlY3QgcGF0aCBmb3IgLmFzcGVjdEF0KCkuXCIpfXJldHVybiBufX1dKSx0fSgpLHU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO3JldHVybiBuZXcoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoYSxbbnVsbF0uY29uY2F0KGUpKSl9O2UuYT11fSxmdW5jdGlvbih0LGUpe3ZhciBuLHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH07bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKXx8KDAsZXZhbCkoXCJ0aGlzXCIpfWNhdGNoKHQpe1wib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9cInVuZGVmaW5lZFwiOnIod2luZG93KSkmJihuPXdpbmRvdyl9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDEzKSxpPShuLm4ociksbigxNCkpLHM9big1KTtuLmQoZSxcInN0aW11bGF0ZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGkuYX0pLG4uZChlLFwic2hhcmVkVGltaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm4gcy5hfSksbi5kKGUsXCJyYWZcIixmdW5jdGlvbigpe3JldHVybiBzLmJ9KSxuLmQoZSxcImNhZlwiLGZ1bmN0aW9uKCl7cmV0dXJuIHMuY30pLGUuZGVmYXVsdD1pLmF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgZnVuY3Rpb24hXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhbiBvYmplY3QhXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEpLGk9bigzNykscz1uKDM2KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixvKXt2YXIgYSx1PXIoZSksYz1pKHUubGVuZ3RoKSxsPXMobyxjKTtpZih0JiZuIT1uKXtmb3IoO2M+bDspaWYoKGE9dVtsKytdKSE9YSlyZXR1cm4hMH1lbHNlIGZvcig7Yz5sO2wrKylpZigodHx8bCBpbiB1KSYmdVtsXT09PW4pcmV0dXJuIHR8fGx8fDA7cmV0dXJuIXQmJi0xfX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKG4pe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLGkpe3JldHVybiB0LmNhbGwoZSxuLHIsaSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0KSxpPW4oMCkuZG9jdW1lbnQscz1yKGkpJiZyKGkuY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBzP2kuY3JlYXRlRWxlbWVudCh0KTp7fX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mXCIuc3BsaXQoXCIsXCIpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigwKSxpPW4oMSkscz1uKDgpLG89bigzMyksYT1uKDIxKSx1PWZ1bmN0aW9uIHQoZSxuLHUpe3ZhciBjLGwsZixwLGg9ZSZ0LkYsZz1lJnQuRyxkPWUmdC5TLG09ZSZ0LlAseT1lJnQuQix2PWc/cjpkP3Jbbl18fChyW25dPXt9KToocltuXXx8e30pLnByb3RvdHlwZSxiPWc/aTppW25dfHwoaVtuXT17fSksUz1iLnByb3RvdHlwZXx8KGIucHJvdG90eXBlPXt9KTtnJiYodT1uKTtmb3IoYyBpbiB1KWw9IWgmJnYmJnZvaWQgMCE9PXZbY10sZj0obD92OnUpW2NdLHA9eSYmbD9hKGYscik6bSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZj9hKEZ1bmN0aW9uLmNhbGwsZik6Zix2JiZvKHYsYyxmLGUmdC5VKSxiW2NdIT1mJiZzKGIsYyxwKSxtJiZTW2NdIT1mJiYoU1tjXT1mKX07ci5jb3JlPWksdS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCx0LmV4cG9ydHM9dX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigyKSYmIW4oMykoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4oMjIpKFwiZGl2XCIpLFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMwKSxpPW4oMjgpLHM9bigzMSksbz1uKDM4KSxhPW4oOSksdT1PYmplY3QuYXNzaWduO3QuZXhwb3J0cz0hdXx8bigzKShmdW5jdGlvbigpe3ZhciB0PXt9LGU9e30sbj1TeW1ib2woKSxyPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIjtyZXR1cm4gdFtuXT03LHIuc3BsaXQoXCJcIikuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXR9KSw3IT11KHt9LHQpW25dfHxPYmplY3Qua2V5cyh1KHt9LGUpKS5qb2luKFwiXCIpIT1yfSk/ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49byh0KSx1PWFyZ3VtZW50cy5sZW5ndGgsYz0xLGw9aS5mLGY9cy5mO3U+YzspZm9yKHZhciBwLGg9YShhcmd1bWVudHNbYysrXSksZz1sP3IoaCkuY29uY2F0KGwoaCkpOnIoaCksZD1nLmxlbmd0aCxtPTA7ZD5tOylmLmNhbGwoaCxwPWdbbSsrXSkmJihuW3BdPWhbcF0pO3JldHVybiBufTp1fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxOCksaT1uKDI1KSxzPW4oMzkpLG89T2JqZWN0LmRlZmluZVByb3BlcnR5O2UuZj1uKDIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYocih0KSxlPXMoZSwhMCkscihuKSxpKXRyeXtyZXR1cm4gbyh0LGUsbil9Y2F0Y2godCl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBUeXBlRXJyb3IoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCFcIik7cmV0dXJuXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LGZ1bmN0aW9uKHQsZSl7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpLGk9bigxMSkscz1uKDE5KSghMSksbz1uKDM0KShcIklFX1BST1RPXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGE9aSh0KSx1PTAsYz1bXTtmb3IobiBpbiBhKW4hPW8mJnIoYSxuKSYmYy5wdXNoKG4pO2Zvcig7ZS5sZW5ndGg+dTspcihhLG49ZVt1KytdKSYmKH5zKGMsbil8fGMucHVzaChuKSk7cmV0dXJuIGN9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyOSksaT1uKDIzKTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsaSl9fSxmdW5jdGlvbih0LGUpe2UuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigwKSxpPW4oOCkscz1uKDcpLG89bigxMikoXCJzcmNcIiksYT1GdW5jdGlvbi50b1N0cmluZyx1PShcIlwiK2EpLnNwbGl0KFwidG9TdHJpbmdcIik7bigxKS5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiBhLmNhbGwodCl9LCh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sYSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgbjtjJiYocyhuLFwibmFtZVwiKXx8aShuLFwibmFtZVwiLGUpKSx0W2VdIT09biYmKGMmJihzKG4sbyl8fGkobixvLHRbZV0/XCJcIit0W2VdOnUuam9pbihTdHJpbmcoZSkpKSksdD09PXI/dFtlXT1uOmE/dFtlXT90W2VdPW46aSh0LGUsbik6KGRlbGV0ZSB0W2VdLGkodCxlLG4pKSl9KShGdW5jdGlvbi5wcm90b3R5cGUsXCJ0b1N0cmluZ1wiLGZ1bmN0aW9uKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcyYmdGhpc1tvXXx8YS5jYWxsKHRoaXMpfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM1KShcImtleXNcIiksaT1uKDEyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHJbdF18fChyW3RdPWkodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMCksaT1yW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdfHwocltcIl9fY29yZS1qc19zaGFyZWRfX1wiXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpW3RdfHwoaVt0XT17fSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCksaT1NYXRoLm1heCxzPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiB0PXIodCksdDwwP2kodCtlLDApOnModCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwKSxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP2kocih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocih0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighcih0KSlyZXR1cm4gdDt2YXIgbixpO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudmFsdWVPZikmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTtpZighZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO3Rocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI0KTtyKHIuUytyLkYsXCJPYmplY3RcIix7YXNzaWduOm4oMjYpfSl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSl7Zm9yKHZhciBuPURhdGUubm93LHI9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9lOndpbmRvdyxpPVtcIm1velwiLFwid2Via2l0XCJdLHM9XCJBbmltYXRpb25GcmFtZVwiLG89cltcInJlcXVlc3RcIitzXSxhPXJbXCJjYW5jZWxcIitzXXx8cltcImNhbmNlbFJlcXVlc3RcIitzXSx1PTA7IW8mJnU8aS5sZW5ndGg7dSsrKW89cltpW3VdK1wiUmVxdWVzdFwiK3NdLGE9cltpW3VdK1wiQ2FuY2VsXCIrc118fHJbaVt1XStcIkNhbmNlbFJlcXVlc3RcIitzXTtpZighb3x8IWEpe3ZhciBjPTAsbD0wLGY9W107bz1mdW5jdGlvbih0KXtpZigwPT09Zi5sZW5ndGgpe3ZhciBlPW4oKSxyPU1hdGgubWF4KDEwLDFlMy82MC0oZS1jKSk7Yz1yK2Usc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0PWYuc2xpY2UoMCk7Zi5sZW5ndGg9MDtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZighdFtlXS5jYW5jZWxsZWQpdHJ5e3RbZV0uY2FsbGJhY2soYyl9Y2F0Y2godCl7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IHR9LDApfX0sMWUzLzYwKX1yZXR1cm4gZi5wdXNoKHtoYW5kbGU6KytsLGNhbGxiYWNrOnQsY2FuY2VsbGVkOiExfSksbH0sYT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPGYubGVuZ3RoO2UrKylmW2VdLmhhbmRsZT09PXQmJihmW2VdLmNhbmNlbGxlZD0hMCl9fXQuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gby5jYWxsKHIsdCl9LHQuZXhwb3J0cy5jYW5jZWw9ZnVuY3Rpb24oKXthLmFwcGx5KHIsYXJndW1lbnRzKX19KS5jYWxsKGUsbigxNSkpfV0pfSk7IiwidmFyIHN0aW11bGF0ZSA9IHJlcXVpcmUoJy4uLy4uL2Rpc3Qvc3RpbXVsYXRlLm1pbicpLnN0aW11bGF0ZTtcbnN0aW11bGF0ZSh7XG5cdGR1cmF0aW9uOiAxMDAwLFxuXHRmcmFtZTogZnVuY3Rpb24oKXtcblx0XHRjb25zb2xlLmxvZyh0aGlzLnByb2dyZXNzLnJhdGlvQ29tcGxldGVkKVxuXHR9XG59KTsiXX0=
